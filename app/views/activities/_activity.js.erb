var table = $("#activities");

<% if is_filted  %>
 table.empty();
<% end %>

<% unless activities.nil?
  activities.each do |activity| %>
    table.append("<%= escape_javascript(render(partial: 'activity_row', locals: {activity: activity}))%>");
  <% end %>
<% end %>

$("#activities").siblings('tfoot').find("*[id^='activity_']").each(function(i,a){
  $(a).val('');
});